{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/chat.css' %}">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600&display=swap" rel="stylesheet">
{% endblock %}

{% block container_class %}fullscreen-mode{% endblock %}

{% block content %}
<div class="chat-container">
    <div class="chat-header">
        <h1>ðŸ’¬ Ð§Ð°Ñ‚ Ð· AI Tutor</h1>
    </div>

    {% include 'chat/partials/chat_panel.html' with messages=messages %}

    <form hx-post="{% url 'send_message' %}" 
          hx-target="#chat-history" 
          hx-swap="beforeend"
          hx-on::after-request="this.reset()"
          class="chat-input-area">
        {% csrf_token %}
        <input type="hidden" name="session_id" value="{{ session.id }}">
        <textarea name="content" placeholder="ÐÐ°Ð¿Ð¸ÑˆÑ–Ñ‚ÑŒ Ð¿Ð¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ..." required aria-label="ÐŸÐ¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ"></textarea>
        <button type="submit" class="btn-send" title="Ð’Ñ–Ð´Ð¿Ñ€Ð°Ð²Ð¸Ñ‚Ð¸">
            <svg viewBox="0 0 24 24">
                <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" />
            </svg>
        </button>
    </form>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/chat.js' %}"></script>
{% endblock %}
